<view class="container"><view class="header"><view class="search-box"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="search-input" bindtap="__e"><image class="search-icon" src="/static/images/common/search-icon.png"></image><view>搜索</view></view></view><view class="center"><view class="store"><view class="title"><image class="left-icon" src="{{orderType=='takein'?'/static/images/common/star_normal.png':'/static/images/order/order_icon_address.png'}}"></image><view class="address">{{orderType=='takeout'?address.complete_address:'中心城店'}}</view><image class="right-icon" src="/static/images/common/black_arrow_right.png"></image></view><view class="buttons"><button class="{{['button',(orderType=='takein')?'active':'']}}" type="default" plain="{{true}}" hover-class="none" data-event-opts="{{[['tap',[['switchOrderType',['$event']]]]]}}" bindtap="__e">自取</button><button class="{{['button',(orderType=='takeout')?'active':'']}}" type="default" plain="{{true}}" hover-class="none" data-event-opts="{{[['tap',[['switchOrderType',['$event']]]]]}}" bindtap="__e">外卖</button></view></view><view class="location">距离您622m</view></view><view class="notices"><swiper class="swiper" autoplay="{{true}}" vertical="{{true}}" interval="{{3000}}" duration="{{1000}}" circular="{{true}}"><block wx:for="{{notices}}" wx:for-item="notice" wx:for-index="index" wx:key="index"><swiper-item><view class="swiper-item"><image class="image" src="{{notice.image}}"></image><view class="content">{{notice.content}}</view></view></swiper-item></block></swiper><view class="more"><text>更多</text><image class="down-icon" src="/static/images/common/gray_arrow_down.png"></image></view></view></view><view class="main"><scroll-view class="menu-bar" scroll-y="{{true}}" scroll-with-animation="{{true}}"><view class="wrapper"><block wx:for="{{categories}}" wx:for-item="category" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['handleMenuSelected',['$0'],[[['categories','',index,'id']]]]]]]}}" class="{{['menu-item',(currentCategoryId==category.id)?'active':'']}}" bindtap="__e"><image class="image" src="{{category.category_image_url}}" mode="widthFix"></image><view class="title">{{category.name}}</view></view></block></view></scroll-view><scroll-view class="product-section" scroll-y="{{true}}" scroll-with-animation="{{true}}" scroll-top="{{productsScrollTop}}" data-event-opts="{{[['scroll',[['productsScroll',['$event']]]]]}}" bindscroll="__e"><view class="wrapper"><view id="ads"><swiper class="ads1" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{1000}}" circular="{{true}}"><block wx:for="{{ads1}}" wx:for-item="ad" wx:for-index="index" wx:key="index"><swiper-item><image class="w-100" src="{{ad}}" mode="widthFix"></image></swiper-item></block></swiper><swiper class="ads2" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{1000}}" circular="{{true}}"><block wx:for="{{ads2}}" wx:for-item="ad" wx:for-index="index" wx:key="index"><swiper-item><image class="w-100" src="{{ad}}" mode="widthFix"></image></swiper-item></block></swiper></view><block wx:for="{{$root.l2}}" wx:for-item="category" wx:for-index="index" wx:key="index"><view class="products-list" id="{{'products-'+category.$orig.id}}"><view class="category-name">{{category.$orig.name}}</view><view class="products"><block wx:for="{{category.l1}}" wx:for-item="product" wx:for-index="key" wx:key="key"><view data-event-opts="{{[['tap',[['showProductDetailModal',['$0'],[[['categories','',index],['products','',key]]]]]]]}}" class="product" bindtap="__e"><image class="image" src="{{product.$orig.images[0].url}}" mode="widthFix"></image><view class="content"><view class="name">{{product.$orig.name}}</view><view class="labels"><block wx:for="{{product.l0}}" wx:for-item="label" wx:for-index="__i0__" wx:key="id"><view class="label" style="{{'color:'+(label.$orig.label_color)+';'+('background:'+(label.g0)+';')}}">{{label.$orig.name}}</view></block></view><view class="description">{{product.$orig.description}}</view><view class="price"><view>{{"￥"+product.$orig.price}}</view><actions vue-id="{{'8dd740cc-1-'+index+'-'+key}}" materials-btn="{{!product.$orig.is_single}}" number="{{product.m0}}" data-event-opts="{{[['^materials',[['showProductDetailModal',['$0'],[[['categories','',index],['products','',key]]]]]],['^add',[['handleAddToCart',['$0'],[[['categories','',index],['products','',key]]]]]],['^minus',[['handleMinusFromCart',['$0'],[[['categories','',index],['products','',key]]]]]]]}}" bind:materials="__e" bind:add="__e" bind:minus="__e" bind:__l="__l"></actions></view></view></view></block></view></view></block></view></scroll-view></view><product-modal vue-id="8dd740cc-2" product="{{product}}" visible="{{productModalVisible}}" data-event-opts="{{[['^cancel',[['closeProductDetailModal']]],['^addToCart',[['handleAddToCartInModal']]]]}}" bind:cancel="__e" bind:addToCart="__e" bind:__l="__l"></product-modal><cart-bar vue-id="8dd740cc-3" cart="{{cart}}" data-event-opts="{{[['^add',[['handleAddToCart']]],['^minus',[['handleMinusFromCart']]],['^clear',[['clearCart']]],['^pay',[['pay']]]]}}" bind:add="__e" bind:minus="__e" bind:clear="__e" bind:pay="__e" bind:__l="__l"></cart-bar><search vue-id="8dd740cc-4" show="{{showSearch}}" categories="{{categories}}" data-event-opts="{{[['^hide',[['e1']]],['^choose',[['showProductDetailModal']]]]}}" bind:hide="__e" bind:choose="__e" bind:__l="__l"></search></view>