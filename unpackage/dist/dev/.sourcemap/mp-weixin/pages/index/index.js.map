{"version":3,"sources":["uni-app:///main.js","webpack:////Users/hzl/Desktop/hadoopcloud/图片浏览app/order-app/pages/index/index.vue?5859","webpack:////Users/hzl/Desktop/hadoopcloud/图片浏览app/order-app/pages/index/index.vue?8d9b","webpack:////Users/hzl/Desktop/hadoopcloud/图片浏览app/order-app/pages/index/index.vue?67d5","webpack:////Users/hzl/Desktop/hadoopcloud/图片浏览app/order-app/pages/index/index.vue?ddb5","uni-app:///pages/index/index.vue","webpack:////Users/hzl/Desktop/hadoopcloud/图片浏览app/order-app/pages/index/index.vue?20e5","webpack:////Users/hzl/Desktop/hadoopcloud/图片浏览app/order-app/pages/index/index.vue?c4b8"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = _vm.__map(_vm.categories, function(category, index) {\n    var $orig = _vm.__get_orig(category)\n\n    var l1 = _vm.__map(category.products, function(product, key) {\n      var $orig = _vm.__get_orig(product)\n\n      var l0 = _vm.__map(product.labels, function(label, __i0__) {\n        var $orig = _vm.__get_orig(label)\n\n        var g0 = _vm.$util.hexToRgba(label.label_color, 0.2)\n        return {\n          $orig: $orig,\n          g0: g0\n        }\n      })\n\n      var m0 = _vm.productCartNum(product.id)\n      return {\n        $orig: $orig,\n        l0: l0,\n        m0: m0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l1: l1\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showSearch = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showSearch = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<!-- 搜索栏 begin -->\r\n\t\t\t<view class=\"search-box\">\r\n\t\t\t\t<view class=\"search-input\" @tap=\"showSearch=true\">\r\n\t\t\t\t\t<image src=\"/static/images/common/search-icon.png\" class=\"search-icon\"></image>\r\n\t\t\t\t\t<view>搜索</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 搜索栏 end -->\r\n\t\t\t<view class=\"center\">\r\n\t\t\t\t<view class=\"store\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<image :src=\"orderType == 'takein' ? \r\n\t\t\t\t\t\t\t\t'/static/images/common/star_normal.png' : \r\n\t\t\t\t\t\t\t\t'/static/images/order/order_icon_address.png'\" \r\n\t\t\t\t\t\t\t\tclass=\"left-icon\" />\r\n\t\t\t\t\t\t<!-- 为了测试方便，这里使用静态店铺数据 -->\r\n\t\t\t\t\t\t<view class=\"address\">{{ orderType == 'takeout' ? address.complete_address : '中心城店' }}</view>\r\n\t\t\t\t\t\t<image src=\"/static/images/common/black_arrow_right.png\" class=\"right-icon\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 外卖&自取switch begin -->\r\n\t\t\t\t\t<view class=\"buttons\">\r\n\t\t\t\t\t\t<button type=\"default\" class=\"button\" \r\n\t\t\t\t\t\t\t\t:class=\"{active: orderType == 'takein'}\" plain \r\n\t\t\t\t\t\t\t\thover-class=\"none\" @tap=\"switchOrderType\">\r\n\t\t\t\t\t\t\t自取\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button type=\"default\" class=\"button\" \r\n\t\t\t\t\t\t\t\t:class=\"{active: orderType == 'takeout'}\" plain \r\n\t\t\t\t\t\t\t\thover-class=\"none\" @tap=\"switchOrderType\">\r\n\t\t\t\t\t\t\t外卖\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 外卖&自取switch end -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"location\">距离您622m</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 滚动公告栏 begin -->\r\n\t\t\t<view class=\"notices\">\r\n\t\t\t\t<swiper class=\"swiper\" autoplay vertical :interval=\"3000\" :duration=\"1000\" circular>\r\n\t\t\t\t\t<swiper-item v-for=\"(notice, index) in notices\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"swiper-item\">\r\n\t\t\t\t\t\t\t<image :src=\"notice.image\" class=\"image\"></image>\r\n\t\t\t\t\t\t\t<view class=\"content\">{{ notice.content }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t\t<view class=\"more\">\r\n\t\t\t\t\t<text>更多</text>\r\n\t\t\t\t\t<image src=\"/static/images/common/gray_arrow_down.png\" class=\"down-icon\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 滚动公告栏 end -->\r\n\t\t<view class=\"main\">\r\n\t\t\t<!-- 左侧菜单 begin -->\r\n\t\t\t<scroll-view class=\"menu-bar\" scroll-y scroll-with-animation>\r\n\t\t\t\t<view class=\"wrapper\">\r\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"handleMenuSelected(category.id)\" \r\n\t\t\t\t\t\t  :class=\"{active: currentCategoryId == category.id}\" v-for=\"(category, index) in categories\" :key=\"index\">\r\n\t\t\t\t\t\t<image :src=\"category.category_image_url\" class=\"image\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<view class=\"title\">{{ category.name }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- 左侧菜单 end -->\r\n\t\t\t<!-- 右侧商品列表 begin -->\r\n\t\t\t<scroll-view class=\"product-section\" scroll-y scroll-with-animation :scroll-top=\"productsScrollTop\" @scroll=\"productsScroll\">\r\n\t\t\t\t<view class=\"wrapper\">\r\n\t\t\t\t\t<view id=\"ads\">\r\n\t\t\t\t\t\t<!-- 广告栏1 begin -->\r\n\t\t\t\t\t\t<swiper class=\"ads1\" :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\" circular>\r\n\t\t\t\t\t\t\t<swiper-item v-for=\"(ad, index) in ads1\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<image :src=\"ad\" class=\"w-100\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t</swiper>\r\n\t\t\t\t\t\t<!-- 广告栏1 end -->\r\n\t\t\t\t\t\t<!-- 广告栏2 begin -->\r\n\t\t\t\t\t\t<swiper class=\"ads2\" :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\" circular>\r\n\t\t\t\t\t\t\t<swiper-item v-for=\"(ad, index) in ads2\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<image :src=\"ad\" class=\"w-100\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t</swiper>\r\n\t\t\t\t\t\t<!-- 广告栏2 end -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 商品 begin -->\r\n\t\t\t\t\t<view class=\"products-list\" v-for=\"(category, index) in categories\" :key=\"index\" :id=\"`products-${category.id}`\">\r\n\t\t\t\t\t\t<view class=\"category-name\">{{ category.name }}</view>\r\n\t\t\t\t\t\t<view class=\"products\">\r\n\t\t\t\t\t\t\t<view class=\"product\" v-for=\"(product, key) in category.products\" :key=\"key\" \r\n\t\t\t\t\t\t\t\t@tap=\"showProductDetailModal(product)\">\r\n\t\t\t\t\t\t\t\t<image :src=\"product.images[0].url\" mode=\"widthFix\" class=\"image\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"name\">{{ product.name }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"labels\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"label\" \r\n\t\t\t\t\t\t\t\t\t\t:style=\"{color: label.label_color, background: $util.hexToRgba(label.label_color, 0.2)}\"\r\n\t\t\t\t\t\t\t\t\t\t v-for=\"label in product.labels\" :key=\"label.id\">{{ label.name }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"description\">{{ product.description }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t<view>￥{{ product.price }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<actions :materials-btn=\"!product.is_single\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t@materials=\"showProductDetailModal(product)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:number=\"productCartNum(product.id)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@add=\"handleAddToCart(product)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t@minus=\"handleMinusFromCart(product)\" />\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 商品 end -->\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- 右侧商品列表 end -->\r\n\t\t</view>\r\n\t\t<!-- 商品详情 modal begin -->\r\n\t\t<product-modal :product=\"product\" \r\n\t\t\t\t\t\t:visible=\"productModalVisible\" \r\n\t\t\t\t\t\t@cancel=\"closeProductDetailModal\" \r\n\t\t\t\t\t\t@add-to-cart=\"handleAddToCartInModal\" \r\n\t\t/>\r\n\t\t<!-- 商品详情 modal end -->\r\n\t\t<!-- 购物车栏 begin -->\r\n\t\t<cart-bar :cart=\"cart\" \r\n\t\t\t\t  @add=\"handleAddToCart\" \r\n\t\t\t\t  @minus=\"handleMinusFromCart\"\r\n\t\t\t\t  @clear=\"clearCart\"\r\n\t\t\t\t  @pay=\"pay\"\r\n\t\t/>\r\n\t\t<!-- 购物车栏 end -->\r\n\t\t<search :show=\"showSearch\" :categories=\"categories\" @hide=\"showSearch=false\" @choose=\"showProductDetailModal\"></search>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport Actions from './components/actions/actions.vue'\r\n\timport CartBar from './components/cartbar/cartbar.vue'\r\n\timport ProductModal from './components/product-modal/product-modal.vue'\r\n\timport cartPopup from './components/cart-popup/cart-popup.vue'\r\n\timport Search from './components/search/search.vue'\r\n\t\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tActions,\r\n\t\t\tCartBar,\r\n\t\t\tProductModal,\r\n\t\t\tcartPopup,\r\n\t\t\tSearch\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcategories: [],\r\n\t\t\t\tcart: [],\r\n\t\t\t\tproduct: {},\r\n\t\t\t\tcurrentCategoryId: 0,\r\n\t\t\t\tnotices: [],\r\n\t\t\t\tads1: [\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/05/28/752a5519e89541bd8417614c599cf8c3.jpg\",\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/05/24/38b7f686cf10449c85b0f5489d5d958e.jpg\",\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/05/21/2315beb5105944e8b795c5c0084ec99f.jpg\",\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/05/21/b88c6780a73249b0b0166784917a5046.jpg\"\r\n\t\t\t\t],\r\n\t\t\t\tads2: [\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/05/21/acfc6504f3074cf6b730f516adc558f6.jpg\",\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/04/26/2373600789c64752b2415293877ead40.jpg\",\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/04/22/515df8c726e740089ae4c55582b4ce09.jpg\",\r\n\t\t\t\t\t\"https://go.cdn.heytea.com/storage/ad/2020/04/14/d0e51cb22c0a437293c0e6a879b59c7d.jpg\"\r\n\t\t\t\t],\r\n\t\t\t\tproductModalVisible: false,\r\n\t\t\t\tcartPopupShow: false,\r\n\t\t\t\tproductsScrollTop: 0,\r\n\t\t\t\tshowSearch: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['orderType', 'address']),\r\n\t\t\tproductCartNum() {\t//计算单个饮品添加到购物车的数量\r\n\t\t\t\treturn id => this.cart.reduce((acc, cur) => {\r\n\t\t\t\t\t\tif(cur.id === id) {\r\n\t\t\t\t\t\t\treturn acc += cur.number\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn acc\r\n\t\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad() {\r\n\t\t\tthis.notices = await this.$api('notices')\r\n\t\t\tthis.categories = await this.$api('categories')\r\n\t\t\tthis.currentCategoryId = this.categories.length && this.categories[0].id\r\n\t\t\tthis.$nextTick(() => this.calcSize())\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['SET_ORDER_TYPE']),\r\n\t\t\tswitchOrderType() {\r\n\t\t\t\tif(this.orderType === 'takein') {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/addresses/addresses'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.SET_ORDER_TYPE('takein')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleAddToCart(product) {\t//添加到购物车\r\n\t\t\t\tconst index = this.cart.findIndex(item => {\r\n\t\t\t\t\tif(!product.is_single) {\r\n\t\t\t\t\t\treturn (item.id == product.id) && (item.materials_text == product.materials_text)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item.id === product.id\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif(index > -1) {\r\n\t\t\t\t\tthis.cart[index].number += (product.number || 1)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.cart.push({\r\n\t\t\t\t\tid: product.id,\r\n\t\t\t\t\tcate_id: product.category_id,\r\n\t\t\t\t\tname: product.name,\r\n\t\t\t\t\tprice: product.price,\r\n\t\t\t\t\tnumber: product.number || 1,\r\n\t\t\t\t\timage: product.images[0].url,\r\n\t\t\t\t\tis_single: product.is_single,\r\n\t\t\t\t\tmaterials_text: product.materials_text || ''\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleMinusFromCart(product) { //从购物车减商品\r\n\t\t\t\tlet index\r\n\t\t\t\tif(product.is_single) {\r\n\t\t\t\t   index = this.cart.findIndex(item => item.id == product.id)\r\n\t\t\t\t} else {\r\n\t\t\t\t   index = this.cart.findIndex(item => (item.id == product.id) && (item.materials_text == product.materials_text))\r\n\t\t\t\t}\r\n\t\t\t\tthis.cart[index].number -= 1\r\n\t\t\t\tif(this.cart[index].number <= 0) {\r\n\t\t\t\t\tthis.cart.splice(index, 1)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowProductDetailModal(product) {\r\n\t\t\t\tthis.product = product\r\n\t\t\t\tthis.productModalVisible = true\r\n\t\t\t},\r\n\t\t\thandleAddToCartInModal(product) {\r\n\t\t\t\tthis.handleAddToCart(product)\r\n\t\t\t\tthis.closeProductDetailModal()\r\n\t\t\t},\r\n\t\t\tcloseProductDetailModal() {\r\n\t\t\t\tthis.productModalVisible = false\r\n\t\t\t\tthis.product = {}\r\n\t\t\t},\r\n\t\t\topenCartDetailsPopup() {\r\n\t\t\t\tthis.$refs['cartPopup'].open()\r\n\t\t\t},\r\n\t\t\tclearCart() {\r\n\t\t\t\tthis.cart = []\r\n\t\t\t},\r\n\t\t\thandleMenuSelected(id) {\r\n\t\t\t\tthis.productsScrollTop = this.categories.find(item => item.id == id).top\r\n\t\t\t\tthis.$nextTick(() => this.currentCategoryId = id)\r\n\t\t\t},\r\n\t\t\tproductsScroll({detail}) {\r\n\t\t\t\tconst {scrollTop} = detail\r\n\t\t\t\tlet tabs = this.categories.filter(item=> item.top <= scrollTop).reverse()\r\n\t\t\t\tif(tabs.length > 0){\r\n\t\t\t\t\tthis.currentCategoryId = tabs[0].id\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcalcSize() {\r\n\t\t\t\tlet h = 0\r\n\t\t\t\tlet view = uni.createSelectorQuery().select('#ads')\r\n\t\t\t\tview.fields({\r\n\t\t\t\t\tsize: true\r\n\t\t\t\t}, data => {\r\n\t\t\t\t\th += Math.floor(data.height)\r\n\t\t\t\t}).exec()\r\n\t\t\t\t\r\n\t\t\t\tthis.categories.forEach(item => {\r\n\t\t\t\t\tlet view = uni.createSelectorQuery().select(`#products-${item.id}`)\r\n\t\t\t\t\tview.fields({\r\n\t\t\t\t\t\tsize: true\r\n\t\t\t\t\t}, data => {\r\n\t\t\t\t\t\titem.top = h\r\n\t\t\t\t\t\th += Math.floor(data.height)\r\n\t\t\t\t\t\titem.bottom = h\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpay() {\r\n\t\t\t\tuni.setStorageSync('cart', this.cart)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/pay/pay'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import './index.scss';\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607669184635\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}